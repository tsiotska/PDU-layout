@import '../../globalStyles/variables/variables';
@import '../../globalStyles/mixins/mixins';

#on {
  color: #00aeb1;
}

#overload {
  color: #E3BE3F;
}

#error {
  color: #E56575
}

#off {
  color: #d7d7d7;
}

.OverviewWrapper {
  #flex-center;
  flex-direction: column;
  width: 100%;

  .title {
	#fontStack3;
	align-self: flex-start;
  }

  .table {
	#flex-space-around;

	.column {
	  display: flex;
	  flex-direction: column;

	  .row {
		display: flex;
		justify-content: space-between;
		margin: 10px 25px;

		.column {
		  #flex-start;

		  .field {
			margin: 10px;
		  }
		}
	  }

	  .phase {
		align-items: flex-end;
		border-bottom: 3px solid #E3BE3F;
		padding-right: 50px;

		.column {
		  margin-left: 25px;
		}

		.Box {
		  #flex-center;
		  width: 27px;
		  height: 37px;
		  background-color: #E3BE3F;
		}

		.label {
		  #fontStack1;
		}
	  }

	  .row:last-child .column:nth-child(2n - 1) {
		background-color: @third-color;
	  }
	}
  }
}

//How to simplify? I want to put list loop in one cycle

@labels: 'Phases' 'Outputs' 'State' 'Voltage' 'Current' 'Active Power';
.table .column:first-child .row {
  .label-loop(2);
  .label-loop (@i) when (@i > 0) {
	&:nth-child(@{i}):before {
	  @label: extract(@labels, @i);
	  content: @label;
	  #flex-center;
	  position: absolute;
	  margin-left: -80px;
	  margin-top: -20px;
	  padding-right: 5px;
	  color: @text-muted;
	}
	.label-loop(@i - 1);
  }

  .label2-loop(4);
  .label2-loop (@i) when (@i > 0) {
	.column:first-child .field:nth-child(@{i}):before {
	  @label: extract(@labels, @i + 2);
	  content: @label;
	  #flex-center;
	  position: absolute;
	  margin-left: -90px;

	  padding-right: 5px;
	  color: @text-muted;
	}
	.label2-loop(@i - 1);
  }
}

@media screen and (min-width: 768px) and (max-width: 1199px) {
  .OverviewWrapper {
	.table {
	  flex-wrap: wrap;

	  .column {
		.row:nth-child(n):before {
		  content: '';
		}

		.row {
		  margin: 10px 5px;
		  .column:first-child .field:nth-child(n):before {
			content: '';
		  }
		}
	  }

	  .phase {
		padding-right: 30px;
	  }
	}
  }
}

@media screen and (max-width: 767px) {
  .OverviewWrapper {
	.table {
	  flex-direction: column;
	}
  }
}
